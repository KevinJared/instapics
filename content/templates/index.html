{% extends 'base.html' %}

{% block content %}
{{block.super}}

<div class=" col-md-12">
    <div class="container">
        <div class="col-md-6" style=" margin-bottom: 10px;margin-left:90px; text-align:center; padding-right: 50px; border-radius: 5px; padding: 10px; border: 1px solid rgb(214, 214, 214);">
            <a href="{%url 'new-post'%}">Upload image</a>
        </div>

    </div>
</div>

<div id="#section01" class="container" style="margin-top:30px; margin-left: 18%;">
    <!-- displaying images -->
    <div class="" style="margin-top:20px;">
        {% for post in posts %}
        <div class="row">
            <div class="col-md-6 card">
                <div class="card-header" style="height: 70px; padding:5px; border:1px solid rgb(243, 241, 241); background-color: rgb(247, 247, 247);">
                    <div class="col-md-2">
                        <img class="img-fluid rounded-circle" src="{{ user.profile.prof_pic.url }}" style="width:50px; border-radius:50%">
                    </div>
                    <div class="col-md-10">
                        <strong>
                            <h4>{{post.user}}</h4>
                        </strong>
                    </div>
                </div>
                <div class="card-body" style="margin:0em;">
                    <!-- modal button-->
                    <img type="button" class="" data-toggle="modal" data-target="#myModal{{post.id}}" class="img-responsive"
                        src="{{post.image.url }}" alt="" width="550px;">
                    <!-- modal -->
                </div>

                <div class="card-footer" style="padding-top:15px; height:100px;border:1px solid rgb(243, 241, 241); background-color: rgb(247, 247, 247);">
                    <div class="col-md-12">
                        <a href=""><i class="far fa-heart" style="font-size:28px;"></i></a>
                    </div>
                    <div class="col-md-12">
                        <p><strong>{{ post.user }}</strong> {{ post.caption }} </p>
                    </div>
                </div>
                <br>
            </div>
            <div class="col-md-4">

            </div>

        </div>
        {% endfor %}
    </div>
</div>
{% for post in posts %}
<!-- modal content -->
<div class="modal fade" id="myModal{{post.id}}" role="dialog">
    <div class="modal-dialog modal-lg" style="margin-top:10%;">
        <div class="modal-content">
            <div class=" col-md-6 modal-header">
                <img src="{{post.image.url}}" alt="" class="img-responsive">
            </div>

            <div class="modal-body">
                <h4 class="modal-title">{{ post.caption }}</h4>
            </div>

            <div class="modal-footer">

            </div>
        </div>
    </div>
</div>
{% endfor %}

{% endblock %}